{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\orime\\\\IdeaProjects\\\\Project_Ori_Meir\\\\Frontend\\\\src\\\\Components\\\\Pages\\\\CompanyPages\\\\CompanyCouponsCategory\\\\CompanyCouponsCategory.tsx\",\n  _s = $RefreshSig$();\nimport { Button, ButtonGroup, Typography } from \"@mui/material\";\nimport \"./CompanyCouponsCategory.css\";\nimport { Category } from \"../../../Models/Category\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { SingleCoupon } from \"../../GuestPages/SingleCoupon/SingleCoupon\";\nimport axiosJWT from \"../../../../util/axiosJWT\";\nimport { myStore } from \"../../../../redux/Store\";\nimport { getCompanyCouponsCategoryAction } from \"../../../../redux/CompanyReducer\";\nimport notify from \"../../../../util/notify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function CompanyCouponsCategory() {\n  _s();\n  const navigate = useNavigate();\n  myStore.subscribe(() => {\n    setCoupons(myStore.getState().company.allCoupons);\n  });\n  const id = myStore.getState().auth.id;\n  const [categories, setCategory] = useState();\n  const [coupons, setCoupons] = useState([]);\n  const handleCategoryChange = event => {\n    setCategory(event.target.value);\n  };\n  useEffect(() => {\n    if (myStore.getState().auth.userType !== \"COMPANY\") {\n      navigate(\"/Page404\");\n      notify.error(\"No Acess!!!!!\");\n    }\n  }, []);\n  const getData = () => {\n    axiosJWT.get(`http://localhost:8080/companyCouponsCategory/${categories}/${id}`).then(response => {\n      myStore.dispatch(getCompanyCouponsCategoryAction(response.data));\n      setCoupons(response.data);\n    }).catch(error => {\n      console.error(\"Failed to fetch company coupons by category:\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"CompanyCouponsCategory\",\n    style: {\n      height: \"75vh\",\n      overflowY: \"scroll\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Box\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: \"Coupons By Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"Category\",\n        value: categories,\n        onChange: handleCategoryChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: Category.electricity,\n          children: \"Electricity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: Category.restaurant,\n          children: \"Restaurant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: Category.food,\n          children: \"Food\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: Category.vacation,\n          children: \"Vacation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: getData,\n          color: \"primary\",\n          variant: \"contained\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/companyDetails'),\n          color: \"secondary\",\n          variant: \"contained\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CouponsList\",\n      children: coupons.length > 0 ? coupons.map(coupon => /*#__PURE__*/_jsxDEV(SingleCoupon, {\n        coupon: coupon\n      }, coupon.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: \"No coupons found for the selected category.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s(CompanyCouponsCategory, \"vEEE38HMz47TUdslnPOOJ8b8gus=\", false, function () {\n  return [useNavigate];\n});\n_c = CompanyCouponsCategory;\nvar _c;\n$RefreshReg$(_c, \"CompanyCouponsCategory\");","map":{"version":3,"names":["Button","ButtonGroup","Typography","Category","useEffect","useState","useNavigate","SingleCoupon","axiosJWT","myStore","getCompanyCouponsCategoryAction","notify","jsxDEV","_jsxDEV","CompanyCouponsCategory","_s","navigate","subscribe","setCoupons","getState","company","allCoupons","id","auth","categories","setCategory","coupons","handleCategoryChange","event","target","value","userType","error","getData","get","then","response","dispatch","data","catch","console","className","style","height","overflowY","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","name","onChange","electricity","restaurant","food","vacation","onClick","color","length","map","coupon","_c","$RefreshReg$"],"sources":["C:/Users/orime/IdeaProjects/Project_Ori_Meir/Frontend/src/Components/Pages/CompanyPages/CompanyCouponsCategory/CompanyCouponsCategory.tsx"],"sourcesContent":["import { Button, ButtonGroup, Typography } from \"@mui/material\";\nimport \"./CompanyCouponsCategory.css\";\nimport { Category } from \"../../../Models/Category\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Coupon } from \"../../../Models/Coupon\";\nimport { SingleCoupon } from \"../../GuestPages/SingleCoupon/SingleCoupon\";\nimport axios from \"axios\";\nimport axiosJWT from \"../../../../util/axiosJWT\";\nimport { myStore } from \"../../../../redux/Store\";\nimport { getCompanyCouponsCategoryAction } from \"../../../../redux/CompanyReducer\";\nimport { getSingleComapnyAction } from \"../../../../redux/AdminReducer\";\nimport notify from \"../../../../util/notify\";\n\nexport function CompanyCouponsCategory(): JSX.Element {\n    const navigate = useNavigate();\n    myStore.subscribe(() => { setCoupons(myStore.getState().company.allCoupons) })\n    const id = myStore.getState().auth.id;\n    const [categories, setCategory] = useState<Category>();\n    const [coupons, setCoupons] = useState<Coupon[]>([]);\n\n    const handleCategoryChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n        setCategory(event.target.value as Category);\n    };\n\n    useEffect(() => {\n        if (myStore.getState().auth.userType !== \"COMPANY\") {\n            navigate(\"/Page404\");\n            notify.error(\"No Acess!!!!!\");\n\n        }\n    }, []);\n    const getData = () => {\n        axiosJWT.get<Coupon[]>(`http://localhost:8080/companyCouponsCategory/${categories}/${id}`)\n            .then(response => {\n                myStore.dispatch(getCompanyCouponsCategoryAction(response.data))\n                setCoupons(response.data);\n            })\n            .catch(error => {\n                console.error(\"Failed to fetch company coupons by category:\", error);\n            });\n    };\n\n\n    return (\n        <div className=\"CompanyCouponsCategory\" style={{ height: \"75vh\", overflowY: \"scroll\" }}>\n            <div className=\"Box\">\n                <Typography variant=\"h5\">Coupons By Category</Typography>\n                <select name=\"Category\" value={categories} onChange={handleCategoryChange}>\n                    <option value=\"\">Select Category</option>\n                    <option value={Category.electricity}>Electricity</option>\n                    <option value={Category.restaurant}>Restaurant</option>\n                    <option value={Category.food}>Food</option>\n                    <option value={Category.vacation}>Vacation</option>\n                </select>\n                <br /> <br />\n                <hr />\n                <ButtonGroup>\n                    <Button onClick={getData} color=\"primary\" variant=\"contained\">Search</Button>\n                    <Button onClick={() => navigate('/companyDetails')} color=\"secondary\" variant=\"contained\">Cancel</Button>\n                </ButtonGroup>\n            </div>\n            <hr />\n            {/* <div className=\"CouponsList\">\n                if(coupons.length > 0 ?) {\n                    coupons.map((coupon) => (\n                        <SingleCoupon key={coupon.id} coupon={coupon} />\n                    ))\n                } : (\n                <Typography variant=\"body1\">No coupons found for the selected category.</Typography>\n                )\n            </div> */}\n            <div className=\"CouponsList\">\n                {coupons.length > 0 ? (\n                    coupons.map((coupon) => (\n                        <SingleCoupon key={coupon.id} coupon={coupon} />\n                    ))\n                ) : (\n                    <Typography variant=\"body1\">No coupons found for the selected category.</Typography>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
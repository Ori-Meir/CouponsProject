{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\orime\\\\IdeaProjects\\\\Project_Ori_Meir\\\\Frontend\\\\src\\\\Components\\\\Pages\\\\CustomerPages\\\\CustomersCouponsCategory\\\\CustomersCouponsCategory.tsx\",\n  _s = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport \"./CustomersCouponsCategory.css\";\nimport { useEffect, useState } from \"react\";\nimport { Category } from \"../../../Models/Category\";\nimport axiosJWT from \"../../../../util/axiosJWT\";\nimport { myStore } from \"../../../../redux/Store\";\nimport { getCustomerCouponCategoryAction } from \"../../../../redux/CustomerReducer\";\nimport { Button, ButtonGroup, Typography } from \"@mui/material\";\nimport { SingleCoupon } from \"../../GuestPages/SingleCoupon/SingleCoupon\";\nimport notify from \"../../../../util/notify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function CustomersCouponsCategory() {\n  _s();\n  const navigate = useNavigate();\n  const [categories, setCategory] = useState();\n  const [coupons, setCoupons] = useState([]);\n  useEffect(() => {\n    if (myStore.getState().auth.userType !== \"CUSTOMER\") {\n      navigate(\"/Page404\");\n      notify.error(\"No Acess!!!!!\");\n    }\n  }, []);\n  const handleCategoryChange = event => {\n    setCategory(event.target.value);\n  };\n  const getData = () => {\n    axiosJWT.get(`http://localhost:8080/customerCouponsByCategory/${categories}/${myStore.getState().auth.id}`).then(response => {\n      myStore.dispatch(getCustomerCouponCategoryAction(response.data));\n      setCoupons(response.data);\n    }).catch(error => {\n      console.error(\"Failed to fetch customer coupons by category:\", error);\n      navigate(\"/Login\"); // Redirect to login page on error\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"CustomersCouponsCategory\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Box\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: \"Coupons By Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"Category\",\n        value: categories,\n        onChange: handleCategoryChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: Category.electricity,\n          children: \"Electricity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: Category.restaurant,\n          children: \"Restaurant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: Category.food,\n          children: \"Food\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: Category.vacation,\n          children: \"Vacation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: getData,\n          color: \"primary\",\n          variant: \"contained\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/customerDetails'),\n          color: \"secondary\",\n          variant: \"contained\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CouponsList\",\n      children: coupons.length > 0 ? coupons.map(coupon => /*#__PURE__*/_jsxDEV(SingleCoupon, {\n        coupon: coupon\n      }, coupon.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: \"No coupons found for the selected category.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(CustomersCouponsCategory, \"vEEE38HMz47TUdslnPOOJ8b8gus=\", false, function () {\n  return [useNavigate];\n});\n_c = CustomersCouponsCategory;\nvar _c;\n$RefreshReg$(_c, \"CustomersCouponsCategory\");","map":{"version":3,"names":["useNavigate","useEffect","useState","Category","axiosJWT","myStore","getCustomerCouponCategoryAction","Button","ButtonGroup","Typography","SingleCoupon","notify","jsxDEV","_jsxDEV","CustomersCouponsCategory","_s","navigate","categories","setCategory","coupons","setCoupons","getState","auth","userType","error","handleCategoryChange","event","target","value","getData","get","id","then","response","dispatch","data","catch","console","className","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","name","onChange","electricity","restaurant","food","vacation","onClick","color","length","map","coupon","_c","$RefreshReg$"],"sources":["C:/Users/orime/IdeaProjects/Project_Ori_Meir/Frontend/src/Components/Pages/CustomerPages/CustomersCouponsCategory/CustomersCouponsCategory.tsx"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport \"./CustomersCouponsCategory.css\";\nimport { useEffect, useState } from \"react\";\nimport { Category } from \"../../../Models/Category\";\nimport { Coupon } from \"../../../Models/Coupon\";\nimport axiosJWT from \"../../../../util/axiosJWT\";\nimport { myStore } from \"../../../../redux/Store\";\nimport { getCustomerCouponCategoryAction } from \"../../../../redux/CustomerReducer\";\nimport { Button, ButtonGroup, Typography } from \"@mui/material\";\nimport { SingleCoupon } from \"../../GuestPages/SingleCoupon/SingleCoupon\";\nimport notify from \"../../../../util/notify\";\n\nexport function CustomersCouponsCategory(): JSX.Element {\n    const navigate = useNavigate();\n\n    const [categories, setCategory] = useState<Category>();\n    const [coupons, setCoupons] = useState<Coupon[]>([]);\n\n    useEffect(()=>{\n        if(myStore.getState().auth.userType !== \"CUSTOMER\"){\n            navigate(\"/Page404\");\n            notify.error(\"No Acess!!!!!\");\n\n        }\n    },[]);\n\n    const handleCategoryChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n        setCategory(event.target.value as Category);\n    };\n\n    const getData = () => {\n        axiosJWT.get<Coupon[]>(`http://localhost:8080/customerCouponsByCategory/${categories}/${myStore.getState().auth.id}`)\n            .then(response => {\n\n                myStore.dispatch(getCustomerCouponCategoryAction(response.data))\n                setCoupons(response.data);\n            })\n            .catch(error => {\n                console.error(\"Failed to fetch customer coupons by category:\", error);\n                navigate(\"/Login\"); // Redirect to login page on error\n            });\n    };\n\n    return (\n        <div className=\"CustomersCouponsCategory\">\n            <div className=\"Box\">\n                <Typography variant=\"h5\">Coupons By Category</Typography>\n                <select name=\"Category\" value={categories} onChange={handleCategoryChange}>\n                    <option value=\"\">Select Category</option>\n                    <option value={Category.electricity}>Electricity</option>\n                    <option value={Category.restaurant}>Restaurant</option>\n                    <option value={Category.food}>Food</option>\n                    <option value={Category.vacation}>Vacation</option>\n                </select>\n                <br /> <br />\n                <hr />\n                <ButtonGroup>\n                    <Button onClick={getData} color=\"primary\" variant=\"contained\">Search</Button>\n                    <Button onClick={() => navigate('/customerDetails')} color=\"secondary\" variant=\"contained\">Cancel</Button>\n                </ButtonGroup>\n            </div>\n            <hr />\n            <div className=\"CouponsList\">\n                {coupons.length > 0 ? (\n                    coupons.map((coupon) => (\n                        <SingleCoupon key={coupon.id} coupon={coupon} />\n                    ))\n                ) : (\n                    <Typography variant=\"body1\">No coupons found for the selected category.</Typography>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}